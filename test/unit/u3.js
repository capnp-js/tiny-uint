/* @flow */

import test from "ava";

import { u3_mask } from "../../src/u3";

test("`u3_mask` with value 0", t => {
  t.plan(8);

  t.is(u3_mask(0x00, 0x00), 0x00);
  t.is(u3_mask(0x00, 0x01), 0x00);
  t.is(u3_mask(0x00, 0x02), 0x00);
  t.is(u3_mask(0x00, 0x03), 0x00);
  t.is(u3_mask(0x00, 0x04), 0x00);
  t.is(u3_mask(0x00, 0x05), 0x00);
  t.is(u3_mask(0x00, 0x06), 0x00);
  t.is(u3_mask(0x00, 0x07), 0x00);
});

test("`u3_mask` with value 1", t => {
  t.plan(8);

  t.is(u3_mask(0x01, 0x00), 0x00);
  t.is(u3_mask(0x01, 0x01), 0x01);
  t.is(u3_mask(0x01, 0x02), 0x00);
  t.is(u3_mask(0x01, 0x03), 0x01);
  t.is(u3_mask(0x01, 0x04), 0x00);
  t.is(u3_mask(0x01, 0x05), 0x01);
  t.is(u3_mask(0x01, 0x06), 0x00);
  t.is(u3_mask(0x01, 0x07), 0x01);
});

test("`u3_mask` with value 2", t => {
  t.plan(8);

  t.is(u3_mask(0x02, 0x00), 0x00);
  t.is(u3_mask(0x02, 0x01), 0x00);
  t.is(u3_mask(0x02, 0x02), 0x02);
  t.is(u3_mask(0x02, 0x03), 0x02);
  t.is(u3_mask(0x02, 0x04), 0x00);
  t.is(u3_mask(0x02, 0x05), 0x00);
  t.is(u3_mask(0x02, 0x06), 0x02);
  t.is(u3_mask(0x02, 0x07), 0x02);
});

test("`u3_mask` with value 3", t => {
  t.plan(8);

  t.is(u3_mask(0x03, 0x00), 0x00);
  t.is(u3_mask(0x03, 0x01), 0x01);
  t.is(u3_mask(0x03, 0x02), 0x02);
  t.is(u3_mask(0x03, 0x03), 0x03);
  t.is(u3_mask(0x03, 0x04), 0x00);
  t.is(u3_mask(0x03, 0x05), 0x01);
  t.is(u3_mask(0x03, 0x06), 0x02);
  t.is(u3_mask(0x03, 0x07), 0x03);
});

test("`u3_mask` with value 4", t => {
  t.plan(8);

  t.is(u3_mask(0x04, 0x00), 0x00);
  t.is(u3_mask(0x04, 0x01), 0x00);
  t.is(u3_mask(0x04, 0x02), 0x00);
  t.is(u3_mask(0x04, 0x03), 0x00);
  t.is(u3_mask(0x04, 0x04), 0x04);
  t.is(u3_mask(0x04, 0x05), 0x04);
  t.is(u3_mask(0x04, 0x06), 0x04);
  t.is(u3_mask(0x04, 0x07), 0x04);
});

test("`u3_mask` with value 5", t => {
  t.plan(8);

  t.is(u3_mask(0x05, 0x00), 0x00);
  t.is(u3_mask(0x05, 0x01), 0x01);
  t.is(u3_mask(0x05, 0x02), 0x00);
  t.is(u3_mask(0x05, 0x03), 0x01);
  t.is(u3_mask(0x05, 0x04), 0x04);
  t.is(u3_mask(0x05, 0x05), 0x05);
  t.is(u3_mask(0x05, 0x06), 0x04);
  t.is(u3_mask(0x05, 0x07), 0x05);
});

test("`u3_mask` with value 6", t => {
  t.plan(8);

  t.is(u3_mask(0x06, 0x00), 0x00);
  t.is(u3_mask(0x06, 0x01), 0x00);
  t.is(u3_mask(0x06, 0x02), 0x02);
  t.is(u3_mask(0x06, 0x03), 0x02);
  t.is(u3_mask(0x06, 0x04), 0x04);
  t.is(u3_mask(0x06, 0x05), 0x04);
  t.is(u3_mask(0x06, 0x06), 0x06);
  t.is(u3_mask(0x06, 0x07), 0x06);
});

test("`u3_mask` with value 7", t => {
  t.plan(8);

  t.is(u3_mask(0x07, 0x00), 0x00);
  t.is(u3_mask(0x07, 0x01), 0x01);
  t.is(u3_mask(0x07, 0x02), 0x02);
  t.is(u3_mask(0x07, 0x03), 0x03);
  t.is(u3_mask(0x07, 0x04), 0x04);
  t.is(u3_mask(0x07, 0x05), 0x05);
  t.is(u3_mask(0x07, 0x06), 0x06);
  t.is(u3_mask(0x07, 0x07), 0x07);
});
